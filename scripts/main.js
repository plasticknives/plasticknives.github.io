$(function(){"use strict";function n(){"index"===s?(c.css("height",r.height()),u.children().css("height",u.height())):a.find(".header-middle").css("height",r.height())}var e,o,t={", /, /index, /home":"index","music, /music":"music"};for(o in t){var i=o.split(", ");for(e=0;e<i.length;e++)t[i[e]]=t[o]}var s=t[window.location.hash.replace("#","")],a=$(".container[data-route="+s+"]"),r=a.find(".header"),c=a.find(".counter-container"),u=a.find(".counter");$(window).on("resize",n),n()}),function(){"use strict";function n(){o++,o===t.length&&console.log("Preloaded all images")}function e(e){var o=new Image;o.src=e,o.onload=n}for(var o=0,t=["images/icons/pause.png","images/headers/1.svg","images/headers/2.svg","images/headers/3.svg","images/headers/4.svg","images/headers/5.svg"],i=0;i<t.length;i++)e(t[i])}(),$(function(){"use strict";function n(){e++,e=e>5?1:e,$("body").addClass("body-color-"+e)}var e=parseInt(5*Math.random(),10)+1;window.colors={nextBg:function(){$("body").removeClass("body-color-"+e),n()}},n()}),$(function(){"use strict";function n(){f=m[w].duration||p.duration,h.trigger("song-progress",p.currentTime/f),g=window.setInterval(function(){var n=p.currentTime/f;h.trigger("song-progress",n),Math.round(p.currentTime)>=f&&c()},500)}function e(){window.clearInterval(g)}function o(n){s(),m=n}function t(){-1===w&&m.length>0&&(w=0,p.src=m[w].src),p.play(),v=!0,n(),h.trigger("song-play",w)}function i(){p.pause(),v=!1,e(),h.trigger("song-pause",w)}function s(){h.trigger("song-progress",0),i()}function a(){i(),p.src=m[w].src,t()}function r(n){m[n]&&(w=n,p.src=m[w].src,t())}function c(){w<m.length-1?(s(),w++,a()):h.trigger("no-more-songs")}function u(){w>0&&(s(),w--,a())}function l(){s(),p.src="",w=-1,m=[],h.trigger("pause")}function d(n){p.currentTime=n*f}var g,f,p=window.audioEl=document.querySelector("audio"),h=$(p),m=[],w=-1,v=!1;window.player={setSongs:o,play:t,playSong:r,pause:i,next:c,previous:u,setTime:d,reset:l}}),$(function(){"use strict";function n(n,e){function o(){var i=Date.now();n.scrollTop(1e3),t+e>i&&window.requestAnimationFrame(o)}var t=Date.now();o()}function e(){d.find(".song").removeClass("playing"),g.css("width",0),u.reset()}function o(){var n=[];d.find(".song").each(function(){n.push({src:this.getAttribute("data-src"),duration:parseInt(this.getAttribute("data-duration"),10)})}),u.setSongs(n)}function t(){var o=d,t=d.hasClass("album-2");m.removeClass("opened opened-1 opened-2"),e(),o.siblings().removeClass("hidden-mobile"),d=null,g=null,t&&window.innerWidth<891&&n(h,1500),setTimeout(function(){o.find(".__front").show()},300)}function i(n){m.addClass("opened opened-"+n.data("album-no")),n.siblings().addClass("hidden-mobile"),d=n,g=d.find(".__progress-indicator"),o(),setTimeout(function(){d.find(".__front").hide()},300),setTimeout(function(){u.next()},1e3)}function s(){h.addClass("stretched"),w.addClass("shown")}function a(){window.innerWidth<=890?setTimeout(s,800):s()}function r(){w.removeClass("shown"),h.removeClass("stretched")}function c(){window.innerWidth<=890?setTimeout(r,800):r()}var u=window.player,l=window.colors,d=null,g=null,f=!1,p=!0,h=$(".content"),m=$(".albums"),w=$(".playback-controls"),v=$("audio"),y=function(){$(this).find(".__control").hasClass("play")?u.play():u.pause()};m.on("click",".song",function(){u.playSong($(this).index())}),w.on("click",".__main-control",y),w.on("click",".__control.next",u.next),w.on("click",".__control.previous",u.previous),v.on("play",function(){w.find(".__control.play-pause").addClass("pause").removeClass("play")}),v.on("pause",function(){w.find(".__control.play-pause").addClass("play").removeClass("pause")}),v.on("song-play",function(n,e){var o=d.find(".song.playing");e!==o.index()&&(d.find(".song").removeClass("playing"),d.find(".song").eq(e).addClass("playing"),l.nextBg())}),v.on("no-more-songs",function(){d.find(".close-button").click()}),v.on("song-progress",function(n,e){g&&g.css("width",(100*e).toFixed(2)+"%")}),m.on("click",".__progress",function(n){u.setTime((n.pageX-d[0].getBoundingClientRect().left)/$(this).width())}),m.on("click",".album .__front, .album .__back .close-button",function(n){if(!f&&p){n.preventDefault(),n.stopPropagation();var e=1e3,o=$(this).parents(".album");d?o[0]!==d[0]?(t(),e=2e3,i(o)):(t(),c()):(i(o),a()),f=!0,setTimeout(function(){f=!1},e)}})}),function(n,e,o,t,i,s,a){n.GoogleAnalyticsObject=i,n[i]=n[i]||function(){(n[i].q=n[i].q||[]).push(arguments)},n[i].l=1*new Date,s=e.createElement(o),a=e.getElementsByTagName(o)[0],s.async=1,s.src=t,a.parentNode.insertBefore(s,a)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),window.ga("create","UA-24420216-2","auto"),window.ga("send","pageview");