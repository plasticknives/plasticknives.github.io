!function(){"use strict";function n(){e++,e===t.length&&console.log("Preloaded all images")}function o(o){var e=new Image;e.src=o,e.onload=n}for(var e=0,t=["images/icons/pause.png","images/headers/1.svg","images/headers/2.svg","images/headers/3.svg","images/headers/4.svg","images/headers/5.svg"],s=0;s<t.length;s++)o(t[s])}(),$(function(){"use strict";function n(){o++,o=o>5?1:o,$("body").addClass("body-color-"+o)}var o=parseInt(5*Math.random(),10)+1;window.colors={nextBg:function(){$("body").removeClass("body-color-"+o),n()}},n()}),$(function(){"use strict";function n(){f=w[h].duration||p.duration,m.trigger("song-progress",p.currentTime/f),g=window.setInterval(function(){var n=p.currentTime/f;m.trigger("song-progress",n),Math.round(p.currentTime)>=f&&c()},500)}function o(){window.clearInterval(g)}function e(n){i(),w=n}function t(){-1===h&&w.length>0&&(h=0,p.src=w[h].src),p.play(),v=!0,n(),m.trigger("song-play",h)}function s(){p.pause(),v=!1,o(),m.trigger("song-pause",h)}function i(){m.trigger("song-progress",0),s()}function a(){s(),p.src=w[h].src,t()}function r(n){w[n]&&(h=n,p.src=w[h].src,t())}function c(){h<w.length-1?(i(),h++,a()):m.trigger("no-more-songs")}function u(){h>0&&(i(),h--,a())}function l(){i(),p.src="",h=-1,w=[],m.trigger("pause")}function d(n){p.currentTime=n*f}var g,f,p=window.audioEl=document.querySelector("audio"),m=$(p),w=[],h=-1,v=!1;window.player={setSongs:e,play:t,playSong:r,pause:s,next:c,previous:u,setTime:d,reset:l}}),$(function(){"use strict";function n(n,o){function e(){var s=Date.now();n.scrollTop(1e3),t+o>s&&window.requestAnimationFrame(e)}var t=Date.now();e()}function o(){d.find(".song").removeClass("playing"),g.css("width",0),u.reset()}function e(){var n=[];d.find(".song").each(function(){n.push({src:this.getAttribute("data-src"),duration:parseInt(this.getAttribute("data-duration"),10)})}),u.setSongs(n)}function t(){var e=d,t=d.hasClass("album-2");w.removeClass("opened opened-1 opened-2"),o(),e.siblings().removeClass("hidden-mobile"),d=null,g=null,t&&window.innerWidth<891&&n(m,1500),setTimeout(function(){e.find(".__front").show()},300)}function s(n){w.addClass("opened opened-"+n.data("album-no")),n.siblings().addClass("hidden-mobile"),d=n,g=d.find(".__progress-indicator"),e(),setTimeout(function(){d.find(".__front").hide()},300),setTimeout(function(){u.next()},1e3)}function i(){m.addClass("stretched"),h.addClass("shown")}function a(){window.innerWidth<=890?setTimeout(i,800):i()}function r(){h.removeClass("shown"),m.removeClass("stretched")}function c(){window.innerWidth<=890?setTimeout(r,800):r()}var u=window.player,l=window.colors,d=null,g=null,f=!1,p=!0,m=$(".content"),w=$(".albums"),h=$(".playback-controls"),v=$("audio"),y=function(){$(this).find(".__control").hasClass("play")?u.play():u.pause()};w.on("click",".song",function(){u.playSong($(this).index())}),h.on("click",".__main-control",y),h.on("click",".__control.next",u.next),h.on("click",".__control.previous",u.previous),v.on("play",function(){h.find(".__control.play-pause").addClass("pause").removeClass("play")}),v.on("pause",function(){h.find(".__control.play-pause").addClass("play").removeClass("pause")}),v.on("song-play",function(n,o){var e=d.find(".song.playing");o!==e.index()&&(d.find(".song").removeClass("playing"),d.find(".song").eq(o).addClass("playing"),l.nextBg())}),v.on("no-more-songs",function(){d.find(".close-button").click()}),v.on("song-progress",function(n,o){g&&g.css("width",(100*o).toFixed(2)+"%")}),w.on("click",".__progress",function(n){u.setTime((n.pageX-d[0].getBoundingClientRect().left)/$(this).width())}),w.on("click",".album .__front, .album .__back .close-button",function(n){if(!f&&p){n.preventDefault(),n.stopPropagation();var o=1e3,e=$(this).parents(".album");d?e[0]!==d[0]?(t(),o=2e3,s(e)):(t(),c()):(s(e),a()),f=!0,setTimeout(function(){f=!1},o)}})}),function(n,o,e,t,s,i,a){n.GoogleAnalyticsObject=s,n[s]=n[s]||function(){(n[s].q=n[s].q||[]).push(arguments)},n[s].l=1*new Date,i=o.createElement(e),a=o.getElementsByTagName(e)[0],i.async=1,i.src=t,a.parentNode.insertBefore(i,a)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),window.ga("create","UA-24420216-2","auto"),window.ga("send","pageview");